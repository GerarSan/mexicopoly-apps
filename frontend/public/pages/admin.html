<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - MexicoPoly Apps</title>
    <link rel="stylesheet" href="/styles/styles.css">
    <link rel="stylesheet" href="/styles/admin-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <aside class="admin-sidebar">
            <div class="admin-logo">
                <div class="logo-icon">
                    <div class="logo-dots">
                        <span></span><span></span><span></span>
                        <span></span><span></span><span></span>
                        <span></span><span></span><span></span>
                    </div>
                </div>
                <h2>Admin Panel</h2>
            </div>
            
            <nav class="admin-nav">
                <a href="#" class="admin-nav-item active" onclick="cambiarSeccion('productos')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 7h-9M14 17H5M17 7v10M7 7v10"></path>
                    </svg>
                    Productos
                </a>
                <a href="#" class="admin-nav-item" onclick="cambiarSeccion('categorias')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                    </svg>
                    Categor√≠as
                </a>
                <a href="#" class="admin-nav-item" onclick="cambiarSeccion('config')">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6m5.2-13.2l-4.2 4.2m0 0L8.8 5.8m8.4 12.4l-4.2-4.2m0 0l-4.2 4.2"></path>
                    </svg>
                    Configuraci√≥n
                </a>
                <div class="nav-divider"></div>
                <a href="/" class="admin-nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path>
                    </svg>
                    Volver al Sitio
                </a>
            </nav>

            <div class="admin-user">
                <div class="user-avatar">üë§</div>
                <div class="user-info">
                    <div class="user-name">Administrador</div>
                    <div class="user-role">Super Admin</div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Secci√≥n Productos -->
            <section id="productos-section" class="admin-section active">
                <div class="admin-header">
                    <div>
                        <h1>Gesti√≥n de Productos</h1>
                        <p class="admin-subtitle">Administra el cat√°logo completo de software</p>
                    </div>
                    <button class="btn-primary" onclick="abrirModalNuevoProducto()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Nuevo Producto
                    </button>
                </div>

                <!-- Estad√≠sticas -->
                <div class="admin-stats">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #6366f1, #8b5cf6);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <path d="M20 7h-9M14 17H5M17 7v10M7 7v10"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number" id="totalProductos">0</span>
                            <span class="stat-label">Total Productos</span>
                            <span class="stat-trend positive">+12% este mes</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b, #ef4444);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number" id="destacados">0</span>
                            <span class="stat-label">Destacados</span>
                            <span class="stat-trend">Con badge activo</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #10b981, #14b8a6);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number" id="categorias">8</span>
                            <span class="stat-label">Categor√≠as</span>
                            <span class="stat-trend">Todas activas</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #ec4899, #a855f7);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number" id="promRating">4.8</span>
                            <span class="stat-label">Rating Promedio</span>
                            <span class="stat-trend positive">‚≠ê Excelente</span>
                        </div>
                    </div>
                </div>

                <!-- Filtros y b√∫squeda -->
                <div class="admin-filters">
                    <div class="filter-search">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input type="text" placeholder="Buscar productos..." id="searchProductos" onkeyup="filtrarProductos()">
                    </div>
                    <select class="filter-select" id="filterCategoria" onchange="filtrarProductos()">
                        <option value="">Todas las categor√≠as</option>
                        <option value="ofimatica">Ofim√°tica</option>
                        <option value="diseno">Dise√±o</option>
                        <option value="seguridad">Seguridad</option>
                        <option value="juegos">Juegos</option>
                        <option value="desarrollo">Desarrollo</option>
                        <option value="multimedia">Multimedia</option>
                        <option value="utilidades">Utilidades</option>
                        <option value="educacion">Educaci√≥n</option>
                    </select>
                    <select class="filter-select" id="filterBadge" onchange="filtrarProductos()">
                        <option value="">Todos los badges</option>
                        <option value="destacado">Destacado</option>
                        <option value="top">Top</option>
                        <option value="nuevo">Nuevo</option>
                        <option value="hot">Hot</option>
                        <option value="sin-badge">Sin badge</option>
                    </select>
                </div>

                <!-- Tabla de productos -->
                <div class="admin-table-container">
                    <table class="admin-table" id="productosTable">
                        <thead>
                            <tr>
                                <th>Producto</th>
                                <th>Categor√≠a</th>
                                <th>Rating</th>
                                <th>Badge</th>
                                <th>Caracter√≠sticas</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="productosTableBody">
                            <!-- Se llena din√°micamente -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Secci√≥n Categor√≠as -->
            <section id="categorias-section" class="admin-section">
                <div class="admin-header">
                    <div>
                        <h1>Gesti√≥n de Categor√≠as</h1>
                        <p class="admin-subtitle">Administra las categor√≠as del cat√°logo</p>
                    </div>
                </div>

                <div class="categories-grid-admin" id="categoriasGrid">
                    <!-- Se llena din√°micamente -->
                </div>
            </section>

            <!-- Secci√≥n Configuraci√≥n -->
            <section id="config-section" class="admin-section">
                <div class="admin-header">
                    <div>
                        <h1>Configuraci√≥n General</h1>
                        <p class="admin-subtitle">Ajustes del sitio web</p>
                    </div>
                </div>

                <div class="config-card">
                    <h3>üìû Informaci√≥n de Contacto</h3>
                    <div class="form-group">
                        <label>N√∫mero de WhatsApp</label>
                        <input type="tel" id="configWhatsapp" value="527296901573">
                        <small>Formato: c√≥digo de pa√≠s + n√∫mero (sin espacios)</small>
                    </div>
                    <div class="form-group">
                        <label>Tel√©fono visible</label>
                        <input type="text" id="configTelefono" value="+52 729 690 1573">
                    </div>
                    <div class="form-group">
                        <label>Email de contacto</label>
                        <input type="email" id="configEmail" value="ventas@mexicopoly.com">
                    </div>
                    <button class="btn-primary" onclick="guardarConfiguracion()">Guardar Cambios</button>
                </div>

                <div class="config-card">
                    <h3>üé® Apariencia</h3>
                    <div class="form-group">
                        <label>Nombre del negocio</label>
                        <input type="text" id="configNombre" value="MexicoPoly - Apps">
                    </div>
                    <div class="form-group">
                        <label>Color principal</label>
                        <input type="color" id="configColorPrimary" value="#6366f1">
                    </div>
                    <div class="form-group">
                        <label>Color secundario</label>
                        <input type="color" id="configColorSecondary" value="#8b5cf6">
                    </div>
                    <button class="btn-primary" onclick="guardarConfiguracion()">Guardar Cambios</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Nuevo/Editar Producto -->
    <div class="modal" id="modalProducto">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Nuevo Producto</h2>
                <button class="modal-close" onclick="cerrarModal()">&times;</button>
            </div>
            <form id="formProducto" class="modal-body" onsubmit="guardarProducto(event)">
                <div class="form-group">
                    <label>ID √∫nico *</label>
                    <input type="text" name="id" id="productoId" required placeholder="ej: office-2024">
                    <small>Solo letras min√∫sculas, n√∫meros y guiones. Sin espacios.</small>
                </div>
                
                <div class="form-group">
                    <label>Nombre del Producto *</label>
                    <input type="text" name="nombre" id="productoNombre" required placeholder="ej: Microsoft Office 2024">
                </div>
                
                <div class="form-group">
                    <label>Categor√≠a *</label>
                    <select name="categoria" id="productoCategoria" required>
                        <option value="">Seleccionar...</option>
                        <option value="ofimatica">üìä Ofim√°tica</option>
                        <option value="diseno">üé® Dise√±o</option>
                        <option value="seguridad">üîí Seguridad</option>
                        <option value="juegos">üéÆ Juegos</option>
                        <option value="desarrollo">üíª Desarrollo</option>
                        <option value="multimedia">üé¨ Multimedia</option>
                        <option value="utilidades">üõ†Ô∏è Utilidades</option>
                        <option value="educacion">üìö Educaci√≥n</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Descripci√≥n *</label>
                    <textarea name="descripcion" id="productoDescripcion" required rows="3" placeholder="Descripci√≥n breve del producto (m√°x. 100 caracteres)"></textarea>
                    <small>Mant√©n la descripci√≥n concisa y atractiva</small>
                </div>
                
                <div class="form-group">
                    <label>Caracter√≠sticas *</label>
                    <textarea name="caracteristicas" id="productoCaracteristicas" required rows="5" placeholder="Escribe una caracter√≠stica por l√≠nea:
- Primera caracter√≠stica
- Segunda caracter√≠stica
- Tercera caracter√≠stica"></textarea>
                    <small>Una caracter√≠stica por l√≠nea (3-5 recomendadas)</small>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Rating (1-5) *</label>
                        <input type="number" name="rating" id="productoRating" min="1" max="5" step="0.1" value="4.5" required>
                    </div>
                    <div class="form-group">
                        <label>Badge</label>
                        <select name="badge" id="productoBadge">
                            <option value="">Sin badge</option>
                            <option value="destacado">‚≠ê Destacado</option>
                            <option value="top">üîù Top</option>
                            <option value="nuevo">‚ú® Nuevo</option>
                            <option value="hot">üî• Hot</option>
                        </select>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="cerrarModal()">Cancelar</button>
                    <button type="submit" class="btn-primary">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"></path>
                            <polyline points="17 21 17 13 7 13 7 21"></polyline>
                            <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                        Guardar Producto
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/scripts/datos.js"></script>
    <script src="/scripts/admin.js"></script>
</body>
</html>
